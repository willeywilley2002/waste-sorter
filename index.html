<script>
  let wasteDatabase = {};
  let dataLoaded = false;

  // Load the waste data from the JSON file
  fetch('waste-data.json')
    .then(response => {
      if (!response.ok) {
        throw new Error("Network response was not ok");
      }
      return response.json();
    })
    .then(data => {
      wasteDatabase = data;
      dataLoaded = true;
    })
    .catch(error => {
      console.error("Failed to load waste-data.json:", error);
    });

  function checkItem() {
    const input = document.getElementById('itemInput').value.trim().toLowerCase();
    const resultDiv = document.getElementById('result');

    if (!dataLoaded) {
      resultDiv.textContent = "Loading waste data... please wait a moment.";
      return;
    }

    if (input in wasteDatabase) {
      resultDiv.textContent = `Put it in: ${wasteDatabase[input]} bin.`;
    } else {
      resultDiv.textContent = "Sorry, I don't know where that goes.";
    }
  }
</script>

